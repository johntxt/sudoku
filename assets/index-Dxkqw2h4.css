*,*:before,*:after{box-sizing:border-box}body{margin:0}a{text-decoration:none}button,input{font:inherit}h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;font-size:inherit}button,a,input,textarea{touch-action:manipulation}:root{--bg: #f2f2f2;--panel: #ffffff;--cell: #ffffff;--line: #d3d3d3;--board-lines: #b3b3b3;--board-border: #1a1a1a;--text: #1a1a1a;--text-muted: #6c6c6c;--entry: #878787;--note: #878787;--sel: #ffec7e;--hl: #e8e8e8;--err-dot: #d74b4b;--given: #1a1a1a;--good: #0f9d4a;--panel-shadow: 0 12px 30px rgba(15, 23, 42, .18)}:root[data-theme=dark]{--bg: #2e2e2e;--panel: #2e2e2e;--cell: #2e2e2e;--line: #5a5a5a;--board-lines: #5a5a5a;--board-border: #5a5a5a;--text: #eaeaea;--text-muted: #b1b1b1;--entry: #a0a0a0;--note: #a0a0a0;--sel: #6d6646;--hl: #444;--err-dot: #ff6b6b;--given: #eaeaea;--good: #29c46a;--panel-shadow: 0 16px 40px rgba(0, 0, 0, .65)}html,body{height:100%}body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.app__main{display:grid;height:100dvh;align-items:center;justify-content:center}.app__main-inner{display:grid;grid-template-columns:648px 260px;gap:32px;align-items:start;justify-content:center;padding:64px 8px}.app__topbar{display:flex;align-items:center;justify-content:space-between;padding:8px;position:fixed;top:0;left:0;right:0;z-index:200;background-color:var(--panel);border-bottom:1px solid var(--line)}.app__logo{width:26px;height:26px;display:block;border-radius:6px}.app__actions{display:flex;align-items:center;gap:24px}.board-shell{position:relative;width:100%;touch-action:manipulation}.board-shell--completed:after{content:attr(data-completed-label);padding:3px 8px;border-radius:10px;background:var(--good);border:1px solid var(--good);color:#fff;font-weight:700;font-size:12px;letter-spacing:1px;position:absolute;top:2px;left:50%;transform:translate(-50%,-50%);z-index:3;pointer-events:none;white-space:nowrap}.btn{appearance:none;font:inherit;cursor:pointer;border:none;background:none;color:inherit;padding:0;text-decoration:none}.btn:disabled{opacity:.5;cursor:not-allowed}.btn--text{color:var(--text);padding:0;font-size:14px;font-weight:400}.menu{position:relative}.menu__bubble{position:absolute;top:calc(100% + 8px);min-width:160px;padding:12px;border-radius:10px;background:var(--panel);box-shadow:0 0 0 1px var(--line),var(--panel-shadow);display:none;z-index:20}.menu__bubble:before{content:"";position:absolute;top:-6px;left:calc(50% - 6px);width:12px;height:12px;background:var(--panel);border:1px solid var(--line);border-right-color:transparent;border-bottom-color:transparent;transform:rotate(45deg)}.menu__bubble--open{display:grid;gap:10px}.menu__bubble--difficulty{left:calc(-80px + 50%)}.menu__bubble--reset{left:calc(-80px + 50%);min-width:160px}.menu__title{font-weight:600;font-size:12px;color:var(--text-muted)}.menu__options{display:grid;gap:8px}.menu__option{appearance:none;border:1px solid var(--line);background:var(--panel);color:var(--text);padding:8px 12px;border-radius:5px;font-weight:600;font-size:14px;cursor:pointer;text-align:left}.board{width:100%;aspect-ratio:1 / 1;display:grid;grid-template-columns:repeat(9,1fr);grid-template-rows:repeat(9,1fr);border:4px solid var(--board-border);overflow:hidden;position:relative;-webkit-user-select:none;user-select:none;touch-action:manipulation}.board__cell{position:relative;background:var(--cell);border-right:1px solid var(--board-lines);border-bottom:1px solid var(--board-lines);display:flex;align-items:center;justify-content:center;cursor:pointer;touch-action:manipulation;z-index:1}.board__cell:nth-child(9n){border-right:none}.board__cell:nth-last-child(-n+9){border-bottom:none}.board:before{content:"";position:absolute;inset:0;pointer-events:none;z-index:2;background-image:linear-gradient(to right,transparent calc(100% / 3 - 2px),var(--board-lines) calc(100% / 3 - 2px),var(--board-lines) calc(100% / 3 + 2px),transparent calc(100% / 3 + 2px),transparent calc(2 * 100% / 3 - 2px),var(--board-lines) calc(2 * 100% / 3 - 2px),var(--board-lines) calc(2 * 100% / 3 + 2px),transparent calc(2 * 100% / 3 + 2px)),linear-gradient(to bottom,transparent calc(100% / 3 - 2px),var(--board-lines) calc(100% / 3 - 2px),var(--board-lines) calc(100% / 3 + 2px),transparent calc(100% / 3 + 2px),transparent calc(2 * 100% / 3 - 2px),var(--board-lines) calc(2 * 100% / 3 - 2px),var(--board-lines) calc(2 * 100% / 3 + 2px),transparent calc(2 * 100% / 3 + 2px))}.board__cell--highlight{background:var(--hl)}.board__cell--selected,.board__cell--selected.board__cell--highlight{background:var(--sel)}.board__cell--error:after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background:var(--err-dot);right:6px;bottom:6px}.board__value{font-size:38px;line-height:1}.board__value--given{color:var(--given);font-weight:650}.board__value--entry{color:var(--entry);font-weight:650}.board__notes{position:absolute;inset:4px;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:0;opacity:.95}.board__note{display:flex;align-items:center;justify-content:center;font-size:min(2.4vw,12px);color:var(--note);opacity:0;font-weight:600}.board__note--filled{opacity:1}.board__cell--notes-active .board__note{opacity:.2}.board__cell--notes-active .board__note--filled{opacity:1}.board__note--conflict{position:relative}.board__note--conflict:after{content:"";position:absolute;width:75%;height:1.5px;background:var(--err-dot);top:50%;left:12.5%;transform:translateY(-50%) rotate(-45deg);border-radius:999px;opacity:.6;pointer-events:none}.board__cell--has-value .board__notes{display:none}.pad__grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.btn--pad{padding:24px 0;border-radius:4px;border:1px solid var(--line);background:var(--panel);color:var(--text);font-size:26px;font-weight:700;cursor:pointer;height:80px}.pad--notes-mode .pad__button{font-size:18px;font-weight:600;padding:6px 10px;display:flex;align-items:center;justify-content:center}.pad--notes-mode .pad__button[data-n="1"]{align-items:flex-start;justify-content:flex-start}.pad--notes-mode .pad__button[data-n="2"]{align-items:flex-start;justify-content:center}.pad--notes-mode .pad__button[data-n="3"]{align-items:flex-start;justify-content:flex-end}.pad--notes-mode .pad__button[data-n="4"]{align-items:center;justify-content:flex-start}.pad--notes-mode .pad__button[data-n="5"]{align-items:center;justify-content:center}.pad--notes-mode .pad__button[data-n="6"]{align-items:center;justify-content:flex-end}.pad--notes-mode .pad__button[data-n="7"]{align-items:flex-end;justify-content:flex-start}.pad--notes-mode .pad__button[data-n="8"]{align-items:flex-end;justify-content:center}.pad--notes-mode .pad__button[data-n="9"]{align-items:flex-end;justify-content:flex-end}.btn--pad:disabled{opacity:.5;cursor:not-allowed}.btn--pad-control{border-radius:4px;border:1px solid var(--line);background:var(--panel);color:var(--text);font-size:14px;font-weight:600;padding:0;height:32px;display:flex;align-items:center;justify-content:center}.pad__controls{display:grid;grid-template-columns:1.5fr .9fr 1fr 1fr 1fr;gap:8px;margin-bottom:12px}.pad__icon{width:16px;height:16px;fill:currentColor}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}@media(max-width:1024px){.app__main-inner{width:min(1024px,100vw - 64px);grid-template-columns:1fr 260px}.board__value{font-size:4vw}}@media(max-width:820px){.app__main-inner{width:100vw;grid-template-columns:1fr}.board-shell{max-width:492px;margin:0 auto}.app__side{display:grid;grid-template-columns:1fr;max-width:492px;margin:0 auto;width:100%}.pad__grid{grid-template-columns:repeat(9,minmax(0,1fr));gap:3px}.pad__grid .btn--pad{font-size:18px;padding:16px 0}.btn--pad{font-size:18px;height:54px}.pad--notes-mode .pad__button{font-size:13px;padding:4px 8px}.board__value{font-size:32px}.pad__controls{gap:3px}.board__note--conflict:after{width:120%;height:.12em;top:50%;left:-10%;transform:translateY(-50%) rotate(-45deg)}}@media(max-width:492px){.board__value{font-size:7vw}}
